---
import GlobeIcon from '@/icons/globe-icon.astro'
import { getLocale } from '@/utils/functions'

const locale = getLocale(Astro.currentLocale)
const toLocale = locale === 'en' ? 'ru' : 'en'

const url = Astro.url.href.replace(`${locale}`, `${toLocale}`)
const text = locale === 'en' ? 'Русский' : 'English'
---

<a class="link" href={url}> <GlobeIcon class="icon" name="globe" />{text}</a>

<style>
  @import '../styles/mixins.css';

  .link {
    @mixin focus;

    display: flex;
    align-items: center;
    padding: 0.5rem;
    color: var(--c-menu-link-text);
    gap: 0.5rem;
    text-decoration: none;
    transition: color var(--link-hover-duration);

    @media (hover: hover) {
      &:hover {
        color: var(--c-menu-link-text-hover);
      }
    }
  }

  .icon {
    width: 1.25rem;
    height: 1.25rem;
  }
</style>
